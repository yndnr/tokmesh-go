# TokMesh 需求规约索引

本目录包含 TokMesh 项目的全部需求规约文档，按企业级软件开发标准分层组织，统一采用 `TYPE-LEVseq-slug.md` 分层编号规则（详见 `specs/governance/document-standards.md`）。

---

## 第一层：系统基础（LEV = 01）

> 回答 **"WHAT"** - 系统处理什么数据，有什么规则

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0101](RQ-0101-核心数据模型.md)** | 核心数据模型 | P0 | Session/Token 实体定义、ID 命名规范、约束条件 |
| **[RQ-0102](RQ-0102-会话生命周期管理.md)** | 会话生命周期管理 | P0 | 创建/校验/续期/吊销/过期流程 |

---

## 第二层：安全基础（LEV = 02）

> 所有外部接口的**前置依赖**，Security First

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0201](RQ-0201-安全与鉴权体系.md)** | 安全与鉴权体系 | P0 | API Key 管理、Argon2 哈希、TLS 加密、权限控制 |

---

## 第三层：接口规范（LEV = 03）

> 回答 **"HOW (外部)"** - 客户端如何与系统交互

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0301](RQ-0301-业务接口规约-OpenAPI.md)** | 业务接口规约-OpenAPI | P0 | HTTP REST API、Method Tunneling |
| ~~RQ-0302~~ | ~~业务接口规约-gRPC~~ | 已删除 | 当前版本不支持 gRPC 协议 |
| **[RQ-0303](RQ-0303-业务接口规约-Redis协议.md)** | 业务接口规约-Redis协议 | P2 | RESP 兼容协议、TM.* 扩展指令 |
| **[RQ-0304](RQ-0304-管理接口规约.md)** | 管理接口规约 | P1 | Admin API (状态/Key 管理/备份恢复) |

---

## 第四层：架构与质量（LEV = 04）

> 回答 **"HOW (内部)"** - 系统内部如何实现

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0401](RQ-0401-分布式集群架构.md)** | 分布式集群架构 | P1 | Raft 控制面、Gossip 发现、一致性哈希分片 |
| **[RQ-0402](RQ-0402-性能与可靠性需求.md)** | 性能与可靠性需求 | P1 | SLA 99.9%、10K TPS、P99 < 10ms |
| **[RQ-0403](RQ-0403-可观测性需求.md)** | 可观测性需求 | P0 | Prometheus 指标/结构化日志/告警（P0），Tracing（P2 可选） |

---

## 第五层：运维与交付（LEV = 05）

> 回答 **"WHERE/WHEN"** - 如何部署和运维

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0501](RQ-0501-部署与交付需求.md)** | 部署与交付需求 | P1 | 二进制包、容器镜像、systemd 服务 |
| **[RQ-0502](RQ-0502-配置管理需求.md)** | 配置管理需求 | P0 | YAML 配置、优先级、热加载、验证（P0/P1/P2 分层） |

---

## 第六层：CLI 工具（LEV = 06）

> 回答 **"HOW (运维)"** - 如何通过命令行管理系统

| 编号 | 名称 | 优先级 | 核心职责 |
|------|------|--------|----------|
| **[RQ-0602](RQ-0602-CLI交互模式与连接管理.md)** | CLI交互模式与连接管理 | P1 | 双模式运行、连接管理、配置文件 |

---

## 关联文档

- **设计文档**: [specs/2-designs/](../2-designs/)
- **架构决策**: [specs/adrs/](../adrs/)
- **治理规范**: [specs/governance/](../governance/)

---

维护者: YNDNR
更新日期: 2025-12-12
重组版本: v2.0 (方案 B 完整重编号)
